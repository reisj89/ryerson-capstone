##Python
$ cd “C:\Users\JulieR\AppData\Local\Programs\Python\Python37-32\Scripts”
$ pip install pymongo
$ pip install vaderSentiment
$ pip install requests

##Set up pymongo
>>> import pymongo
>>> from pymongo import MongoClient
>>> client = MongoClient('localhost', 27017)
>>> db = client.full
>>> collection = db.flattened

##Set up Vader Sentiment
>>> import vaderSentiment
>>> from vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer
>>> analyzer = SentimentIntensityAnalyzer()

##Run Vader Sentiment on all body entries
>>> for doc in collection.find({}):
...     mongo_id = doc['_id']
...     all_sentiment = analyzer.polarity_scores(doc['body'])
...     comp_sentiment = all_sentiment['compound']
...     pos_sentiment = all_sentiment['pos']
...     neu_sentiment = all_sentiment['neu'] 
...     neg_sentiment =  all_sentiment['neg']
...     collection.update_one({'_id': mongo_id}, {"$set": {'compound': comp_sentiment, 'pos': pos_sentiment, 'neu': neu_sentiment, 'neg': neg_sentiment}}, upsert=False)

##Export to CSV
$ mongoexport --db full  --collection flattened  --type=csv  --fields _id,author,body,collapsed,collapsed_reason,controversiality,created_utc,distinguished,edited,gilded,id,is_submitter,score,subreddit,compound,pos,neu,neg  --out SelectedSentiment.csv
